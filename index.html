<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <!-- Tracking Snippet -->
      <script defer data-domain="pfalzventure.de" src="https://plausible.io/js/script.js"></script>
  
  <title>Pfalzventure ‚Äì Bushcraft & Survival</title>
  <link rel="stylesheet" href="style.css">

  <!-- PayPal SDK -->
  <script src="https://www.paypal.com/sdk/js?client-id=AQbF-v1VWk6QCLKdNODfXJb-fUAcoTsnE1ux9JvHUWNYuJQE1xskgSu7ff_qniWdL168KWEw_oX7iCHB&currency=EUR"></script>
</head>
<body>
   <!-- ============================
       Header mit Navigation
       ============================ -->
<header>
  <div class="container">
    <a href="index.html" class="logo">
      <img src="assets/Logo2.png" alt="Pfalzventure Logo">
    </a>
    
    <!-- Burger Button f√ºr kleine Bildschirme -->
    <div class="burger" onclick="toggleMenu()">‚ò∞</div>
<script>
  // Men√º √∂ffnen/schlie√üen
  function toggleMenu() {
    document.querySelector("nav ul").classList.toggle("nav-active");
  }

  // Klick au√üerhalb schlie√üt das Men√º
  document.addEventListener("click", function(event) {
    const menu = document.querySelector("nav ul");
    const burger = document.querySelector(".burger");

    // Wenn Klick NICHT auf Burger und NICHT im Men√º
    if (!menu.contains(event.target) && !burger.contains(event.target)) {
      menu.classList.remove("nav-active");
    }
  });
</script>

    <nav>
      <ul class="nav-links">
        <li><a href="index.html" class="active">Start</a></li>
        <li><a href="kurse.html">Kurse</a></li>
        <li><a href="shop.html">Shop</a></li>
        <li><a href="kontakt.html">Kontakt</a></li>
      </ul>
    </nav>
   
    <!-- üü† Warenkorb Button -->
    <button onclick="toggleCart()" class="btn cart-btn">
      üõí Warenkorb (<span id="cart-count">0</span>)
    </button>
  </div>
</header>


 <!-- Hero-Bereich -->
<section class="hero">
  <div class="hero-content">
    <img src="assets/Logo2.png" alt="Pfalzventure Logo" class="hero-logo">
    <h1>Willkommen bei Pfalzventure</h1>
    <p>Dein Abenteuer in der Natur ‚Äì Bushcraft & Survival im Pf√§lzerwald</p>
 
  </div>
</section>

   <!-- Einleitung -->
  <div class="product">
    <h2>Was ist Bushcraft & Survival?</h2>
    <p>Survival bedeutet, in Extremsituationen mit minimalen Mitteln zu √ºberleben ‚Äì Feuer entfachen, Wasser und Nahrung finden, Orientierung behalten und Schutz aufbauen. Auch geht es darum, in Ausnahmesituationen ruhig zu bleiben und handlungsf√§hig zu sein.
<br>Bushcraft geht √ºber das klassische Survival hinaus, es ist das Leben in und mit der Natur. Dabei verzichtet man bewusst auf moderne Hilfsmittel und stellt sich der Herausforderung, mit traditionellen Techniken klarzukommen. Hier geht es darum sich in der Natur zu Hause zu f√ºhlen - auch wenn‚Äòs oft hart wird.
</p>
    </div>
  </div>

  <!-- √úber uns -->
  <div class="product">
    <h2>Wer f√ºhrt die Kurse durch?</h2>
    <p>
Robert Prokasky
<br>-	37 Jahre  
<br>-	Survival Trainer
<br>-	√úber 10 Jahre Erfahrung im Bereich Bushcraft & Survival
<br>-	Ausgebildeter Ersthelfer
<br>-	Ehrenamtlicher Vereinstrainer seit √ºber 13 Jahren
</p>
    </div>
  </div>
  
 <!-- Wo finden die Kurse statt? -->
  <div class="product">
    <h2>Wo finden die Kurse statt?</h2>
    <p>
Die Kurse finden aktuell alle in Lindenberg in der Pfalz statt. Je nach Kurs in unserem Basecamp, oder auch gro√ür√§umig in dessen Umgebung.
</p>
    </div>
  </div>
  
 <!-- Was bieten wir dir? -->
  <div class="product">
    <h2>Was bieten wir dir?</h2>
    <p>
Wir zeigen dir alles zum Thema Bushcraft und Survival. Ob es dir um reines Aneignen n√ºtzlichen Wissens geht, oder du dabei ein Abenteuer erleben willst, bei dem du √ºber deine Grenzen hinaus w√§chst: Schau dir einfach unsere Kurse an, bei uns ist wirklich f√ºr jeden was dabei.
</p>
    </div>
  </div>
 <!-- Button in eigener Box -->
  <div class="cta">
    <a href="kurse.html" class="btn">Zu den Kursen</a>
  </div>
</div>
  
<!-- ============================
     Warenkorb Popup
     ============================ -->
<div id="cart" style="display:none; position:fixed; top:80px; right:20px; background:white; border:1px solid #ccc; padding:20px; max-width:340px; box-shadow:0 2px 10px rgba(0,0,0,0.2); z-index:1000;">
  <h3>Dein Warenkorb</h3>
  <br>
  <ul id="cart-items" class="cart-list"></ul>
  <p><strong>Gesamt: <span id="cart-total">0.00</span> ‚Ç¨</strong></p>
  <div id="paypal-button-container"></div>
  <button onclick="toggleCart()" class="btn">Schlie√üen</button>
</div>

  <!-- Footer -->
  <footer>
    <p>¬© 2025 Pfalzventure ‚Äì Robert Prokasky</p>
    <p><a href="impressum.html">Impressum</a> | <a href="datenschutz.html">Datenschutz</a></p>
  </footer>

  <!-- ============================
       Warenkorb + PayPal Script
       ============================ -->
  <script>
    let cart = [];

    // Produkt hinzuf√ºgen (z. B. aus Shop √ºbernommen)
    function addToCart(name, price) {
      let existing = cart.find(item => item.name === name && item.price === price);
      if (existing) {
        existing.qty += 1;
      } else {
        cart.push({ name, price, qty: 1 });
      }
      saveCart();
    }

    // Kurs-Gutschein hinzuf√ºgen (mit Terminen aus JSON)
    function addCourseVoucher() {
      let select = document.getElementById("kursTermine");
      let selected = Array.from(select.selectedOptions).map(opt => opt.textContent);

      if (selected.length === 0) {
        alert("Bitte w√§hle einen Termin aus!");
        return;
      }

      cart.push({
        name: "Kurs-Gutschein",
        price: 1.00,
        qty: 1,
        termine: selected
      });
      saveCart();
    }

    // Wert-Gutschein hinzuf√ºgen
    function addVoucher() {
      let amount = parseFloat(document.getElementById("voucherAmount").value);
      if (amount < 10) amount = 10;
      cart.push({ name: "Wert-Gutschein", price: amount, qty: 1 });
      saveCart();
    }

    // Menge √§ndern
    function increaseQty(index) {
      cart[index].qty += 1;
      saveCart();
    }
    function decreaseQty(index) {
      cart[index].qty -= 1;
      if (cart[index].qty <= 0) cart.splice(index, 1);
      saveCart();
    }

    function getCartTotal() {
      return cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
    }

<div class="cart-list">
  <!-- Einzelne Artikel -->
  <div class="cart-item">
    <span>Kurs Bushcraft</span>
    <span class="cart-price">29,00 ‚Ç¨</span>
  </div>

  <!-- Gesamtbetrag -->
  <p class="cart-total" data-total="29.00">Gesamt: 29,00 ‚Ç¨</p>

  <!-- üéüÔ∏è Gutschein-Eingabe -->
  <div class="cart-discount">
    <label for="voucherCode">üéüÔ∏è Gutschein einl√∂sen:</label>
    <input type="text" id="voucherCode" placeholder="Code eingeben" />
    <button onclick="applyVoucher()">Einl√∂sen</button>
    <p id="voucherMessage"></p>
  </div>
</div>

    
    // Warenkorb speichern & laden
    function saveCart() {
      localStorage.setItem("cart", JSON.stringify(cart));
      updateCart();
    }
    function loadCart() {
      let stored = localStorage.getItem("cart");
      if (stored) cart = JSON.parse(stored);
      updateCart();
    }

    // Warenkorb aktualisieren (inkl. Termine)
    function updateCart() {
      document.getElementById("cart-count").innerText = cart.reduce((sum, item) => sum + item.qty, 0);

      let itemsList = document.getElementById("cart-items");
      itemsList.innerHTML = "";

      cart.forEach((item, i) => {
        let li = document.createElement("li");
        li.classList.add("cart-item");

        // Produkttext
        let span = document.createElement("span");
        span.innerText = `${item.name} ‚Äì ${item.price.toFixed(2)} ‚Ç¨`;
        if (item.termine) {
          span.innerText += `\n(Termine: ${item.termine.join(", ")})`;
        }

        // Steuerung (‚ûñ Anzahl ‚ûï)
        let controls = document.createElement("div");
        controls.classList.add("cart-controls");

        let minusBtn = document.createElement("button");
        minusBtn.innerText = "‚ûñ";
        minusBtn.onclick = () => decreaseQty(i);

        let qtySpan = document.createElement("span");
        qtySpan.innerText = item.qty;
        qtySpan.classList.add("cart-qty");

        let plusBtn = document.createElement("button");
        plusBtn.innerText = "‚ûï";
        plusBtn.onclick = () => increaseQty(i);

        controls.appendChild(minusBtn);
        controls.appendChild(qtySpan);
        controls.appendChild(plusBtn);

        li.appendChild(span);
        li.appendChild(controls);
        itemsList.appendChild(li);
      });

      document.getElementById("cart-total").innerText = getCartTotal().toFixed(2);
    }

    // Warenkorb anzeigen/verbergen
    function toggleCart() {
      let cartDiv = document.getElementById("cart");
      cartDiv.style.display = (cartDiv.style.display === "none") ? "block" : "none";
    }

    // PayPal Integration
    paypal.Buttons({
      createOrder: function(data, actions) {
        return actions.order.create({
          purchase_units: [{
            description: cart.map(item => {
              let desc = `${item.name} x${item.qty}`;
              if (item.termine) {
                desc += ` [${item.termine.join(", ")}]`;
              }
              return desc;
            }).join("; "),
            amount: {
              currency_code: "EUR",
              value: getCartTotal().toFixed(2)
            }
          }]
        });
      },
      onApprove: function(data, actions) {
        return actions.order.capture().then(function(details) {
          alert("Vielen Dank! " + details.payer.name.given_name + " ‚Äì Deine Bestellung wurde erfolgreich abgeschlossen.");
          cart = [];
          saveCart();
          toggleCart();
        });
      }
    }).render('#paypal-button-container');

    // Warenkorb laden beim Start
    loadCart();
  </script>
  <script>
  function toggleMenu() {
    document.querySelector(".nav-links").classList.toggle("nav-active");
  }
</script>

  <script src="gutscheine.js"></script>
  
</body>
</html>
